<div class="addContainer">
    <div class="modalHeader">
        <div class="editRowModal">
            <div class="modalHeader clearfix">
                <div class="modal-about">
                    <div class="font-weight-bold p-t-5 msl-3 font-17">
                        {{dialogTitle}}</div>
                </div>
            </div>
        </div>
        <button mat-icon-button (click)="dialogRef.close()" aria-label="Close dialog">
            <mat-icon>close</mat-icon>
        </button>
    </div>
    <div mat-dialog-content>
        <form class="register-form m-4" [formGroup]="trackingForm">
            <div class="row">
                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Region</mat-label>
                        <mat-select formControlName="regionId" (selectionChange)="getSites($event.value)">
                            <mat-option>None</mat-option>
                            <mat-option *ngFor="let site of regions" [value]="site.regionId">{{site.regionTitle}}</mat-option>
                        </mat-select>
                        <mat-error *ngIf="trackingForm.get('siteId').hasError('required')">
                            Site is required
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
                        <div class="row">
                            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
                                <mat-form-field class="example-full-width" appearance="outline">
                                    <mat-label>Site</mat-label>
                                    <mat-select formControlName="siteId" (selectionChange)="getRec($event.value)">
                                        <mat-option>None</mat-option>
                                        <mat-option *ngFor="let site of sites" [value]="site.siteId">{{site.siteTitle}}</mat-option>
                                    </mat-select>
                                    <mat-error *ngIf="trackingForm.get('siteId').hasError('required')">
                                        Site is required
                                    </mat-error>
                                </mat-form-field>
                            </div>
                        </div>
            <div class="row">
                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Recommendation Reference</mat-label>
                        <mat-select formControlName="recommendationId">
                            <mat-option>None</mat-option>
                            <mat-option *ngFor="let recomend of recommendations" [value]="recomend.recommendationId">{{recomend.recommendationReference}}</mat-option>
                          </mat-select>
                        <mat-error *ngIf="trackingForm.get('recommendationId').hasError('required')">
                            Recommendation Reference is required
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Action</mat-label>
                        <input matInput formControlName="action">
                        <mat-error *ngIf="trackingForm.get('action').hasError('required')">
                            Action is required
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
            <!-- <div class="row">
                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Assigned To</mat-label>
                            <mat-select  #user
                            (selectionChange)="addChip(user.value, 'user')" formControlName="assignedTo">
                                <mat-option>None</mat-option>
                                <mat-option *ngFor="let user of users" [value]="user.userId">{{user.email}}</mat-option>
                              </mat-select>
                        <mat-error *ngIf="trackingForm.get('assignedTo').hasError('required')">
                            Assigned To is required
                        </mat-error>
                    </mat-form-field>
                    <mat-chip-list>
                        <mat-chip color="primary" *ngFor="let u of userList" (removed)="removeChip(u, 'user')" selected>
                            {{u.email}}
                            <button matChipRemove>
                                <mat-icon>cancel</mat-icon>
                            </button>
                        </mat-chip>
                    </mat-chip-list>
                </div>
            </div> -->
            <div class="row">
                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Target Date</mat-label>
                        <input matInput [matDatepicker]="picker" formControlName="targetDate">
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                        <mat-error *ngIf="trackingForm.get('targetDate').hasError('required')">
                            Target Date is required
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
            <!-- <div class="row">
                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Status</mat-label>
                        <mat-select formControlName="statusId">
                            <mat-option>None</mat-option>
                            <mat-option *ngFor="let status of statuss" [value]="status.statusId">{{status.statusTitle}}</mat-option>
                          </mat-select>
                        <mat-error *ngIf="trackingForm.get('statusId').hasError('required')">
                            Status is required
                        </mat-error>
                    </mat-form-field>
                </div>
            </div> -->
            <!-- <div class="row">
                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Comments</mat-label>
                        <textarea matInput formControlName="comments"></textarea>
                        <mat-error *ngIf="trackingForm.get('comments').hasError('required')">
                            Comments are required
                        </mat-error>
                    </mat-form-field>
                </div>
            </div> -->
            <!-- <div class="row">
                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Closure Date</mat-label>
                        <input matInput [matDatepicker]="picker" formControlName="closureDate">
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                        <mat-error *ngIf="trackingForm.get('closureDate').hasError('required')">
                            Closure Date is required
                        </mat-error>
                    </mat-form-field>
                </div>
            </div> -->
            <!-- <div class="row">
                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Evidence Available</mat-label>
                        <mat-select formControlName="evidenceAvailable">
                            <mat-option>None</mat-option>
                            <mat-option value="Yes">Yes</mat-option>
                            <mat-option value="No">No</mat-option>
                          </mat-select>
                        <mat-error *ngIf="trackingForm.get('evidenceAvailable').hasError('required')">
                            Evidence is required
                        </mat-error>
                    </mat-form-field>
                </div>
            </div> -->
            <!-- <div class="row">
                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Days To Target</mat-label>
                        <input matInput formControlName="daysToTarget">
                        <mat-error *ngIf="trackingForm.get('daysToTarget').hasError('required')">
                            Target Days are required
                        </mat-error>
                    </mat-form-field>
                </div>
            </div> -->
            <!-- <div class="row">
                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Completion Score</mat-label>
                        <input matInput formControlName="completionScore">
                        <mat-error *ngIf="trackingForm.get('completionScore').hasError('required')">
                            Completion Score is required
                        </mat-error>
                    </mat-form-field>
                </div>
            </div> -->

            <div class="row">
                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Department / Company</mat-label>
                        <mat-select formControlName="companyId">
                            <mat-option>None</mat-option>
                            <mat-option *ngFor="let company of companies" [value]="company.companyId">{{company.companyTitle}}</mat-option>
                          </mat-select>
                        <mat-error *ngIf="trackingForm.get('companyId').hasError('required')">
                            Department / Company is required
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Source</mat-label>
                        <mat-select formControlName="sourceId">
                            <mat-option>None</mat-option>
                            <mat-option *ngFor="let source of sources" [value]="source.sourceId">{{source.sourceTitle}}</mat-option>
                          </mat-select>
                        <mat-error *ngIf="trackingForm.get('sourceId').hasError('required')">
                           Source is required
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
            <!-- <div class="row">
                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
                    <label>File</label>
                    <app-file-upload  formControlName="fileAttachment"></app-file-upload>
                </div>
            </div> -->
            <div class="row">
                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
                    <div class="example-button-row float-end">
                        <button mat-raised-button color="primary" (click)="submit()" [disabled]="!trackingForm.valid"
                            [mat-dialog-close]="actionTracker">Save</button>
                        <button mat-raised-button color="warn" (click)="onNoClick()" tabindex="-1">Cancel</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>